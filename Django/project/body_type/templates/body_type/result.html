<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>체형 예측 및 업로드</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light text-center">
    <div class="container mt-5">
        <h2 class="mb-4">체형 예측을 위한 이미지 업로드</h2>
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="p-4 bg-white shadow rounded">
                    <form method="post" enctype="multipart/form-data" class="text-start">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <button type="submit" class="btn btn-primary w-100 mt-3">예측하기</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 결과 페이지 -->
    {% if body_shape %}
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="p-4 bg-white shadow rounded">
                    <h3 class="mb-3">예측 결과</h3>
                    {% if image_url %}
                        <img src="{{ image_url }}" alt="업로드된 이미지" class="img-fluid mb-3" style="max-width: 200px;">
                    {% endif %}
                    <p><strong>예측된 체형:</strong> {{ body_shape }}</p>
                    <h4 class="mt-3">예측된 신체 수치:</h4>
                    <ul class="list-group">
                        <li class="list-group-item">뱃살허리둘레: {{ y_pred.2|floatformat:2 }} cm</li>
                        <li class="list-group-item">허리둘레: {{ y_pred.3|floatformat:2 }} cm</li>
                        <li class="list-group-item">엉덩이둘레: {{ y_pred.4|floatformat:2 }} cm</li>
                        <li class="list-group-item">허벅지둘레: {{ y_pred.5|floatformat:2 }} cm</li>
                        <li class="list-group-item">가슴둘레: {{ y_pred.6|floatformat:2 }} cm</li>
                        <li class="list-group-item">어깨사이너비: {{ y_pred.7|floatformat:2 }} cm</li>
                    </ul>

                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
